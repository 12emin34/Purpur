From 33f577964c65dc07468b42c08f00da4e0e0351c8 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 19 Oct 2019 00:52:12 -0500
Subject: [PATCH] Add setting to suppress unknown attribute warnings

---
 src/main/java/net/minecraft/server/GenericAttributes.java | 1 +
 src/main/java/net/pl3x/purpur/PurpurConfig.java           | 5 +++++
 2 files changed, 6 insertions(+)

diff --git a/src/main/java/net/minecraft/server/GenericAttributes.java b/src/main/java/net/minecraft/server/GenericAttributes.java
index 469e293c25..ada17e2bf6 100644
--- a/src/main/java/net/minecraft/server/GenericAttributes.java
+++ b/src/main/java/net/minecraft/server/GenericAttributes.java
@@ -79,6 +79,7 @@ public class GenericAttributes {
             AttributeInstance attributeinstance = attributemapbase.a(nbttagcompound.getString("Name"));
 
             if (attributeinstance == null) {
+                if (!net.pl3x.purpur.PurpurConfig.suppressUnknownAttributeWarnings) // Purpur
                 GenericAttributes.LOGGER.warn("Ignoring unknown attribute '{}'", nbttagcompound.getString("Name"));
             } else {
                 a(attributeinstance, nbttagcompound);
diff --git a/src/main/java/net/pl3x/purpur/PurpurConfig.java b/src/main/java/net/pl3x/purpur/PurpurConfig.java
index 306d86d842..af808d0367 100644
--- a/src/main/java/net/pl3x/purpur/PurpurConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurConfig.java
@@ -172,6 +172,11 @@ public class PurpurConfig {
         useAlternateKeepAlive = getBoolean("settings.use-alternate-keepalive", useAlternateKeepAlive);
     }
 
+    public static boolean suppressUnknownAttributeWarnings = false;
+    private static void suppressUnknownAttributeWarnings() {
+        suppressUnknownAttributeWarnings = getBoolean("settings.suppress-unknown-attribute-warnings", suppressUnknownAttributeWarnings);
+    }
+
     public static boolean updatePermissionsOnWorldChange = false;
     private static void updatePermissionsOnWorldChange() {
         updatePermissionsOnWorldChange = getBoolean("settings.update-perms-on-world-change", updatePermissionsOnWorldChange);
-- 
2.24.0.rc1

