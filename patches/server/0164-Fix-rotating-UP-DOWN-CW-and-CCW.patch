From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: BillyGalbreath <blake.galbreath@gmail.com>
Date: Wed, 6 Jan 2021 02:19:29 -0600
Subject: [PATCH] Fix rotating UP/DOWN CW and CCW


diff --git a/src/main/java/net/minecraft/server/BlockFireAbstract.java b/src/main/java/net/minecraft/server/BlockFireAbstract.java
index 5727b6f8d94040868ba752ea186b8e8995e189b6..172e4b3eeecc3808a335b80bb44bc6be3d8dd33d 100644
--- a/src/main/java/net/minecraft/server/BlockFireAbstract.java
+++ b/src/main/java/net/minecraft/server/BlockFireAbstract.java
@@ -109,11 +109,7 @@ public abstract class BlockFireAbstract extends Block {
                     break;
                 }
             }
-            // Paper start - don't search for portal creation when looking down
-            if(enumdirection == EnumDirection.DOWN || enumdirection == EnumDirection.UP) {
-                return false;
-            }
-            // Paper end
+
             return flag && BlockPortalShape.a((GeneratorAccess) world, blockposition, enumdirection.h().n()).isPresent();
         }
     }
diff --git a/src/main/java/net/minecraft/server/EnumDirection.java b/src/main/java/net/minecraft/server/EnumDirection.java
index e3ba447eb7f3023406b71aab97e3d30523540588..83366996a0f9ae4684cc5424ace7630cc72b75f7 100644
--- a/src/main/java/net/minecraft/server/EnumDirection.java
+++ b/src/main/java/net/minecraft/server/EnumDirection.java
@@ -113,6 +113,12 @@ public enum EnumDirection implements INamable {
                 return EnumDirection.NORTH;
             case EAST:
                 return EnumDirection.SOUTH;
+            // Purpur start
+            case UP:
+                return EnumDirection.UP;
+            case DOWN:
+                return EnumDirection.DOWN;
+            // Purpur end
             default:
                 throw new IllegalStateException("Unable to get Y-rotated facing of " + this);
         }
@@ -129,6 +135,12 @@ public enum EnumDirection implements INamable {
                 return EnumDirection.SOUTH;
             case EAST:
                 return EnumDirection.NORTH;
+            // Purpur start
+            case UP:
+                return EnumDirection.UP;
+            case DOWN:
+                return EnumDirection.DOWN;
+            // Purpur end
             default:
                 throw new IllegalStateException("Unable to get CCW facing of " + this);
         }
