From f1cd162a9a053fa793a85354770acae1223da892 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 31 Aug 2019 17:47:11 -0500
Subject: [PATCH] Add option to spawn Toast

---
 src/main/java/net/minecraft/server/EntityRabbit.java | 3 ++-
 src/main/java/net/pl3x/purpur/PurpurConfig.java      | 2 ++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/EntityRabbit.java b/src/main/java/net/minecraft/server/EntityRabbit.java
index 498c453d71..41d8d1ccb0 100644
--- a/src/main/java/net/minecraft/server/EntityRabbit.java
+++ b/src/main/java/net/minecraft/server/EntityRabbit.java
@@ -300,7 +300,7 @@ public class EntityRabbit extends EntityAnimal {
             if (!this.hasCustomName()) {
                 this.setCustomName(new ChatMessage(SystemUtils.a("entity", EntityRabbit.bA), new Object[0]));
             }
-        }
+        } else if (i == 98) setCustomName(new ChatMessage("Toast")); // Purpur
 
         this.datawatcher.set(EntityRabbit.bz, i);
     }
@@ -329,6 +329,7 @@ public class EntityRabbit extends EntityAnimal {
 
     private int a(GeneratorAccess generatoraccess) {
         if (net.pl3x.purpur.PurpurConfig.killerRabbitChance > 0D && net.pl3x.purpur.PurpurConfig.killerRabbitChance > random.nextDouble()) return 99; // Purpur
+        if (net.pl3x.purpur.PurpurConfig.toastRabbitChance > 0D && net.pl3x.purpur.PurpurConfig.toastRabbitChance > random.nextDouble()) return 98; // Purpur
 
         BiomeBase biomebase = generatoraccess.getBiome(new BlockPosition(this));
         int i = this.random.nextInt(100);
diff --git a/src/main/java/net/pl3x/purpur/PurpurConfig.java b/src/main/java/net/pl3x/purpur/PurpurConfig.java
index 3e96f63dbe..569c5b3442 100644
--- a/src/main/java/net/pl3x/purpur/PurpurConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurConfig.java
@@ -245,8 +245,10 @@ public class PurpurConfig {
     }
 
     public static double killerRabbitChance = 0.0D;
+    public static double toastRabbitChance = 0.0D;
     private static void rabbitSettings() {
         killerRabbitChance = getDouble("settings.mobs.rabbit.spawn-killer-rabbit-chance", killerRabbitChance);
+        toastRabbitChance = getDouble("settings.mobs.rabbit.spawn-toast-chance", toastRabbitChance);
     }
 
     public static boolean snowmanDropsPumpkin = false;
-- 
2.24.0.rc1

