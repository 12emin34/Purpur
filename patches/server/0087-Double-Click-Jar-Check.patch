From c111fde8e661027df0bed942b8878309eabf11b2 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <Blake.Galbreath@GMail.com>
Date: Sat, 7 Dec 2019 14:35:43 -0600
Subject: [PATCH] Double Click Jar Check

---
 src/main/java/org/bukkit/craftbukkit/Main.java | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/main/java/org/bukkit/craftbukkit/Main.java b/src/main/java/org/bukkit/craftbukkit/Main.java
index 3a4881fb18..5873ad54fa 100644
--- a/src/main/java/org/bukkit/craftbukkit/Main.java
+++ b/src/main/java/org/bukkit/craftbukkit/Main.java
@@ -20,6 +20,12 @@ public class Main {
     public static boolean useConsole = true;
 
     public static void main(String[] args) {
+        // Purpur start
+        if (System.console() == null && !java.awt.GraphicsEnvironment.isHeadless()) {
+            javax.swing.JOptionPane.showMessageDialog(null, "Please do not run this server by double clicking the jar!");
+            return;
+        }
+        // Purpur end
         // Todo: Installation script
         OptionParser parser = new OptionParser() {
             {
-- 
2.24.0.rc1

