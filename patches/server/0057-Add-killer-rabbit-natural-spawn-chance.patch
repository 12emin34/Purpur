From ac76a88f329371e598863969a945bb0a788dc423 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 31 Aug 2019 17:24:41 -0500
Subject: [PATCH] Add killer rabbit natural spawn chance

---
 src/main/java/net/minecraft/server/EntityRabbit.java | 2 ++
 src/main/java/net/pl3x/purpur/PurpurConfig.java      | 5 +++++
 2 files changed, 7 insertions(+)

diff --git a/src/main/java/net/minecraft/server/EntityRabbit.java b/src/main/java/net/minecraft/server/EntityRabbit.java
index 0eae51aa6..d2f5e4e0f 100644
--- a/src/main/java/net/minecraft/server/EntityRabbit.java
+++ b/src/main/java/net/minecraft/server/EntityRabbit.java
@@ -369,6 +369,8 @@ public class EntityRabbit extends EntityAnimal {
     }
 
     private int a(GeneratorAccess generatoraccess) {
+        if (net.pl3x.purpur.PurpurConfig.killerRabbitChance > 0D && net.pl3x.purpur.PurpurConfig.killerRabbitChance > random.nextDouble()) return 99; // Purpur
+
         BiomeBase biomebase = generatoraccess.getBiome(new BlockPosition(this));
         int i = this.random.nextInt(100);
 
diff --git a/src/main/java/net/pl3x/purpur/PurpurConfig.java b/src/main/java/net/pl3x/purpur/PurpurConfig.java
index a511c83cc..1b1e4ca25 100644
--- a/src/main/java/net/pl3x/purpur/PurpurConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurConfig.java
@@ -219,6 +219,11 @@ public class PurpurConfig {
         phantomsOrbitCrystalsRadius = getDouble("settings.mobs.phantom.orbit-crystal-radius", phantomsOrbitCrystalsRadius);
     }
 
+    public static double killerRabbitChance = 0.0D;
+    private static void rabbitSettings() {
+        killerRabbitChance = getDouble("settings.mobs.rabbit.spawn-killer-rabbit-chance", killerRabbitChance);
+    }
+
     public static boolean snowmanDropsPumpkin = false;
     public static boolean snowmanPumpkinPutBack = false;
     private static void snowmansSettings() {
-- 
2.24.0

