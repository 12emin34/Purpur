From 98545d3bf632e6a1938fe8833611943f761c46a3 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 27 Jul 2019 17:20:35 -0500
Subject: [PATCH] Add option to disable pillager patrols

---
 src/main/java/net/minecraft/server/MobSpawnerPatrol.java | 1 +
 src/main/java/net/pl3x/purpur/PurpurConfig.java          | 5 +++++
 2 files changed, 6 insertions(+)

diff --git a/src/main/java/net/minecraft/server/MobSpawnerPatrol.java b/src/main/java/net/minecraft/server/MobSpawnerPatrol.java
index bb612b3861..99bb38f033 100644
--- a/src/main/java/net/minecraft/server/MobSpawnerPatrol.java
+++ b/src/main/java/net/minecraft/server/MobSpawnerPatrol.java
@@ -9,6 +9,7 @@ public class MobSpawnerPatrol {
     public MobSpawnerPatrol() {}
 
     public int a(WorldServer worldserver, boolean flag, boolean flag1) {
+        if (net.pl3x.purpur.PurpurConfig.disablePillagerPatrols) return 0; // Purpur
         if (!flag) {
             return 0;
         } else {
diff --git a/src/main/java/net/pl3x/purpur/PurpurConfig.java b/src/main/java/net/pl3x/purpur/PurpurConfig.java
index a0bd985833..bf8a9f30c8 100644
--- a/src/main/java/net/pl3x/purpur/PurpurConfig.java
+++ b/src/main/java/net/pl3x/purpur/PurpurConfig.java
@@ -204,6 +204,11 @@ public class PurpurConfig {
         spawnPhantomsInTheEnd = getBoolean("settings.mobs.phantom.spawn-in-the-end", spawnPhantomsInTheEnd);
     }
 
+    public static boolean disablePillagerPatrols = false;
+    private static void pillagerSettings() {
+        disablePillagerPatrols = getBoolean("settings.mobs.pillager.disable-patrols", disablePillagerPatrols);
+    }
+
     public static boolean snowmanDropsPumpkin = false;
     public static boolean snowmanPumpkinPutBack = false;
     private static void snowmansSettings() {
-- 
2.20.1

