From 289db8fcf661720f28cca2336e572bbe69c9b43f Mon Sep 17 00:00:00 2001
From: KennyTV <28825609+KennyTV@users.noreply.github.com>
Date: Sat, 31 Aug 2019 17:40:04 +0200
Subject: [PATCH] PlayerItemCooldownEvent

---
 .../net/minecraft/server/ItemCooldownPlayer.java  | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

diff --git a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
index 27cde8c155..2b8afef1ac 100644
--- a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
+++ b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
@@ -1,13 +1,26 @@
 package net.minecraft.server;
 
+import com.destroystokyo.paper.event.player.PlayerItemCooldownEvent; // Purpur
+
 public class ItemCooldownPlayer extends ItemCooldown {
 
-    private final EntityPlayer a;
+    private final EntityPlayer a; public EntityPlayer getEntityPlayer() { return a; } // Purpur - OBFHELPER
 
     public ItemCooldownPlayer(EntityPlayer entityplayer) {
         this.a = entityplayer;
     }
 
+    // Purpur start
+    @Override
+    public void setCooldown(Item item, int ticks) {
+        PlayerItemCooldownEvent event = new PlayerItemCooldownEvent(getEntityPlayer().getBukkitEntity(), org.bukkit.craftbukkit.util.CraftMagicNumbers.getMaterial(item), ticks);
+        if (!event.callEvent()) {
+            return;
+        }
+        super.setCooldown(item, event.getCooldown());
+    }
+    // Purpur end
+
     @Override
     protected void b(Item item, int i) {
         super.b(item, i);
-- 
2.24.0

